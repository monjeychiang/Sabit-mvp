# 專案變更紀錄

## [0.7.0] - 2025-07-29
### 架構重構
- 重構專案目錄結構，提升代碼組織與可維護性
- 優化模組化設計，確保更好的擴展性

### 後端
- 創建 `app/db/models` 目錄，將數據模型從根目錄移至此處
- 創建 `app/services` 目錄，整合所有服務模組
- 創建 `app/utils` 目錄，整合所有工具函數
- 更新所有相關導入路徑，確保代碼正確引用
- 刪除舊的目錄結構（`models`、`services`、`utils`），保持代碼庫整潔

### 技術細節
- 將 `User` 和 `ExchangeKey` 模型移至 `app/db/models` 目錄
- 將 `auth_service.py` 和 `api_key_manager.py` 移至 `app/services` 目錄
- 將 `crypto.py`、`time_sync.py` 和 `initialize_db.py` 移至 `app/utils` 目錄
- 更新所有模組的導入路徑，使用 `app.` 前綴
- 確保所有文件包含完整的中文註解和文檔字符串
- 徹底清理原有的檔案和目錄，避免重複代碼和混淆

## [0.6.2] - 2025-07-28
### 錯誤修復
- 修復 OKX API KEY 加密解密過程中的錯誤
- 解決 `NoneType` 與字串相加的類型錯誤問題
- 增強對 API 密鑰中特殊字符（如破折號 "-"）的處理
- 優化對空值和 NULL 值的安全處理
- 修復 OKX 交易所缺少 password 憑證（API Passphrase）的問題
- 解決獲取未成交訂單時的"requires password credential"錯誤
- 解決與 CCXT 4.4.89 版本兼容性問題，調整 OKX 憑證檢查邏輯

### 後端
- 改進 CryptoManager 類，安全處理空值和 None 值
- 為 OKX 交易所添加特殊處理邏輯，正確格式化 API KEY 和 Passphrase
- 移除 API KEY 中可能存在的多餘引號和空格
- 增強 preheat_exchange 方法的錯誤處理和診斷能力
- 在連接建立前驗證解密後的 API Key 和 Secret 是否有效
- 優化 OKX 特有參數的設置，確保參數名稱正確（如 passphrase）
- 在 OKX 交易所初始化時強制要求提供 API Passphrase，否則拋出明確錯誤
- 增強 get_open_orders 方法的錯誤處理，提供具體的 OKX 相關錯誤資訊
- 更新 API 憑證檢查邏輯以適應 CCXT 4.4.89 版本變更，防止"credentials"屬性訪問錯誤

### 技術細節
- 使用 try-except 包裝加密解密和 API 初始化操作
- 添加詳細的日誌記錄，方便診斷和追蹤問題
- 確保所有可能的錯誤點都有適當的錯誤處理和資源清理
- 增強空值檢查邏輯，避免未處理的 None 值
- 對 OKX 的 API KEY 和密鑰進行特殊處理，確保格式正確
- 優化異常處理流程，提供更明確的錯誤信息
- 針對 OKX 交易所添加專門的驗證邏輯，確保 password/passphrase 設置正確
- 實現錯誤資訊本地化，使使用者能更容易理解和解決問題
- 升級 CCXT 庫至 4.4.89 版本，並調整代碼適應新版 API 結構變化
- 實現更靈活的憑證檢查方式，支援不同版本的 CCXT 庫

## [0.6.1] - 2025-07-27
### 錯誤修復
- 修復 Binance 合約交易中持倉模式切換功能的 422 錯誤
- 解決前後端參數傳遞不匹配的問題

### 後端
- 創建 PositionModeRequest Pydantic 模型，規範持倉模式切換的請求參數
- 修改 set_position_mode 端點，使用 PositionModeRequest 模型來處理請求
- 優化持倉模式切換相關的錯誤處理邏輯

### 前端
- 更新 togglePositionMode 函數，確保請求格式正確
- 在持倉模式切換成功後自動刷新持倉數據，提升使用體驗

### 技術細節
- 修正 422 Unprocessable Entity 錯誤，確保前後端請求參數一致性
- 優化 API 請求結構，提升程式碼健壯性

## [0.6.0] - 2025-07-26
### 使用者體驗優化
- 添加深淺主題切換功能，提升用戶體驗
- 支援淺色、深色和跟隨系統三種主題模式

### 前端
- 創建 ThemeProvider 組件，用於管理主題狀態
- 實現 ThemeToggle 組件，提供主題切換功能
- 添加 DropdownMenu 組件，用於主題切換界面
- 更新 Layout 組件，整合主題切換按鈕
- 將應用包裹在 ThemeProvider 中，實現全局主題管理
- 添加主題偏好本地存儲功能，記住用戶的主題選擇

### 技術細節
- 使用 React Context API 實現主題狀態管理
- 利用 Tailwind CSS 的深淺主題支援
- 實現系統主題自動跟隨功能
- 添加平滑的主題切換動畫效果

## [0.5.0] - 2025-07-25
### 架構優化
- 統一化 API 路由結構，提高代碼一致性和可維護性
- 重構 API 端點命名規則，統一使用 `/api/*` 前綴

### 後端
- 將 `routers/exchange.py` 移動到 `app/api/endpoints/exchange.py`
- 在 `app/api/api.py` 中統一註冊 exchange 路由
- 移除 `main.py` 中對 `exchange_router` 的直接引用
- 將 API 路徑從 `/exchanges/*` 標準化為 `/api/exchange/*`
- 刪除原有的 `routers/exchange.py` 文件
- 更新 `routers/__init__.py`，移除對舊路由的引用

### 前端
- 更新所有前端 API 請求路徑，從 `/api/exchanges/*` 改為 `/api/exchange/*`
- 修正 TradingPage、ExchangeKeysPage 和 ExchangeKeyForm 中的 API 請求

### 文檔
- 更新 API 路徑文檔
- 添加架構變更說明

## [0.4.0] - 2025-06-18
### 新增功能
- 添加基於 Python multiprocessing 的多核心處理模組
- 實現並行任務處理功能，充分利用多核心 CPU

### 後端
- 創建 TaskManager 類，封裝多核心處理邏輯
- 添加處理批次數據的 API 端點
- 添加系統資訊 API 端點，用於獲取 CPU 和記憶體資訊

### 前端
- 添加多核心處理測試頁面
- 實現系統資訊顯示功能
- 添加並行處理測試功能，可配置處理項目數量和處理因子

## [0.3.0] - 2025-06-17
### 新增功能
- 添加本地 SQLite 資料庫支援
- 整合 Shadcn UI 組件庫至前端

### 後端
- 添加 SQLAlchemy ORM 與 SQLite 資料庫連接設定
- 建立資料庫模型基礎架構
- 添加異步資料庫會話管理

### 前端
- 整合 Tailwind CSS 與 Shadcn UI 組件
- 配置 PostCSS 與 Tailwind
- 更新全局樣式以支援 Shadcn UI 主題

### 文檔
- 更新專案說明，明確標示為本地應用
- 添加 SQLite 與 Shadcn UI 相關文檔

## [0.2.0] - 2023-11-21
### 使用者體驗優化
- 全面重構導航系統，提升整體使用體驗和操作效率
- 優化桌面端與移動端的導航體驗，確保跨裝置一致性

### 前端
- 開發全新的 MainNavigation 組件，實現功能豐富的導航選單
- 創建專用 MobileNavigation 組件，優化移動裝置的操作體驗
- 整合 Shadcn UI 的 NavigationMenu 與 Sheet 組件，提供專業導航交互
- 簡化 Layout 組件，移除舊有的導航結構
- 重組路由結構，清晰區分功能模組與介面層級

### 技術細節
- 使用 Shadcn UI 的 NavigationMenu 組件實現階層化的桌面導航
- 基於 Shadcn UI 的 Sheet 組件開發移動端側邊欄導航，支援手勢操作
- 實現導航項目的動態高亮顯示，優化當前位置提示
- 添加導航項目的圖示與描述，提升使用直覺性
- 優化導航組件的響應式設計，確保在各種螢幕尺寸下的合理顯示
- 保持導航設計與整體應用風格的一致性，維持科技感視覺效果

## [0.1.0] - 2025-06-17
### 初始化項目
- 建立基本專案架構，區分前後端開發環境
- 設置 FastAPI 後端框架基礎結構
- 設置 React 前端基礎結構

### 後端
- 創建基礎 FastAPI 應用
- 設定 CORS 以支援前後端分離開發
- 建立基本目錄結構與 API 路由

### 前端
- 使用 Vite 建立 React 應用
- 配置基本路由系統
- 建立基礎元件結構

### 其他
- 建立項目文件與開發指南
- 設定基本的依賴管理系統

## [0.1.1] - 2023-11-12
### 使用者體驗優化
- 對前端頁面進行全螢幕顯示優化，提供更沉浸式體驗
- 改善不同螢幕尺寸的顯示效果

### 前端
- 移除 `#root` 元素的最大寬度限制
- 增加 `html` 和 `body` 的全高度和全寬度設置
- 將 Layout 組件中的 `container` 類修改為 `w-full`
- 為主要元素新增 `w-full` 類，確保水平方向的完整填充
- 修改 HomePage 的容器和區塊樣式，移除 `container` 類的限制

### 技術細節
- 優化整體佈局結構，確保彈性佈局適應不同屏幕
- 保持垂直方向上的彈性 (`flex-grow` 保留)
- 確保頁面內部元素的適當間距和布局

## [0.1.2] - 2023-11-13
### 使用者體驗優化
- 對應用滾動條進行樣式優化，提升視覺一致性
- 根據深淺主題自動調整滾動條顏色，提供現代化視覺效果

### 前端
- 設計符合應用風格的自定義滾動條樣式
- 為滾動條軌道和滑塊添加圓角效果
- 添加滾動條相關的 CSS 變數，支援深淺主題切換
- 實現滾動條懸停效果，提供更好的視覺反饋

### 技術細節
- 同時支援 WebKit 瀏覽器和 Firefox 的滾動條樣式
- 使用 CSS 變數確保主題切換時滾動條顏色一致性
- 優化滾動條尺寸，提供更好的可用性
- 保留滾動條的基本功能性，確保可用性不受影響

## [0.1.3] - 2023-11-14
### 使用者體驗優化
- 添加科技感特效和視覺元素，提升應用整體現代感
- 實現動態視覺效果，增強用戶交互體驗

### 前端
- 創建背景網格動畫組件 (GridBackground)，提供科技感背景效果
- 創建數據流動效果組件 (DataFlow)，模擬數據傳輸的視覺效果
- 開發科技感卡片組件 (TechCard)，帶有懸停發光效果和邊框動畫
- 實現打字機效果組件 (Typewriter)，用於標題和重要文本的動態顯示
- 更新首頁，整合各種科技感特效和動畫效果

### 技術細節
- 使用 Canvas API 實現複雜的背景動畫和數據流效果
- 添加多種 Tailwind CSS 動畫，如淡入、滑動、懸浮和脈衝效果
- 實現漸變文字效果，提升視覺層次感
- 添加元素顯示序列，創造順暢的頁面載入體驗
- 優化動畫性能，確保在不同設備上的流暢運行

## [0.1.4] - 2023-11-15
### 使用者體驗優化
- 重組頁面結構與導航系統，提升整體使用體驗
- 明確區分首頁與操作頁面，優化使用流程

### 前端
- 創建專用 Dashboard 頁面作為操作中心，集中展示各功能入口
- 開發 OperationsMenu 組件，將操作功能選項整合至右上角下拉選單
- 更新 Layout 組件，簡化主導航，保留首頁連結並添加操作選單
- 優化首頁設計，聚焦於產品介紹與功能概覽
- 統一按鈕與連結導向邏輯，所有操作入口指向 Dashboard

### 技術細節
- 使用 React Router 更新路由配置，添加 Dashboard 路由
- 實現基於 Radix UI 的下拉選單，提供更好的操作體驗
- 使用 useLocation hook 實現當前路徑檢測與高亮顯示
- 優化移動端導航體驗，確保響應式設計的一致性
- 保持設計風格統一，維持科技感視覺效果

## [0.1.5] - 2023-11-16
### 使用者體驗優化
- 簡化主題切換功能，改為直接點擊切換
- 添加 GitHub Star 計數顯示

### 前端
- 重構 ThemeToggle 組件，移除下拉選單，改為單一按鈕循環切換主題
- 創建 GitHubStars 組件，顯示專案在 GitHub 上的星標數量
- 在頂部導航欄添加 GitHub Star 計數按鈕，點擊可直接訪問 GitHub 倉庫

### 技術細節
- 優化主題切換邏輯，實現 light -> dark -> system 的循環切換
- 使用 GitHub API 獲取倉庫星標數據，並實現定期自動更新
- 添加錯誤處理與載入狀態，確保 API 請求失敗時的優雅降級
- 使用 Lucide React 圖標庫實現視覺一致性

## [0.1.6] - 2023-11-17
### 技術優化
- 更新 GitHub 倉庫連結，指向正確的專案地址

### 前端
- 修改 GitHubStars 組件的預設倉庫地址，指向 monjeychiang/Sabit-mvp
- 更新 Layout 組件中的 GitHubStars 引用，確保使用正確的倉庫參數

### 技術細節
- 確保 GitHub API 請求指向正確的倉庫，獲取準確的星標數量
- 點擊 GitHub Star 按鈕將導向正確的專案頁面

## [0.1.7] - 2023-11-18
### 使用者體驗優化
- 更新 GitHub 按鈕，使用標準 GitHub 圖標

### 前端
- 創建 GitHubIcon 組件，實現 GitHub 標準圖標的 SVG 實現
- 更新 GitHubStars 組件，使用 GitHub 標準圖標代替星星圖標
- 優化錯誤狀態下的顯示文本

### 技術細節
- 使用 SVG 實現高品質的 GitHub 圖標，確保在不同尺寸下顯示清晰
- 保持組件的可配置性，支持自定義大小和樣式
- 確保圖標顏色跟隨當前主題，提供良好的視覺一致性

## [0.1.8] - 2023-11-19
### 使用者體驗優化
- 更新應用圖標與品牌形象，使用專業設計的 SABIT 標誌

### 前端
- 添加專業設計的 SABIT 標誌，替換原有的臨時圖標
- 創建 Logo 組件，實現統一的品牌標識展示
- 更新 index.html 中的圖標設置，支援多種尺寸和設備
- 創建 manifest.json 文件，添加 PWA 相關設置
- 更新 Layout、HomePage 和 DashboardPage 組件，整合新的 Logo 組件

### 技術細節
- 添加多種尺寸的圖標，從 32x32 到 1024x1024 像素
- 支援 favicon、Apple Touch 圖標和 PWA 圖標
- 實現 Logo 組件的可配置性，支援不同大小和樣式
- 優化圖標加載，確保在各種設備上的清晰顯示
- 更新頁面標題和描述，提升 SEO 表現

## [0.1.9] - 2023-11-20
### 使用者體驗優化
- 恢復首頁標題的打字機特效，提升動態視覺體驗

### 前端
- 修改 HomePage 組件，移除標題區域的 Logo 組件
- 重新啟用 Typewriter 組件，實現打字機特效
- 保持標題文字的漸變色彩效果

### 技術細節
- 確保打字機效果的流暢性和可讀性
- 保持與整體設計風格的一致性
- 優化標題區域的動畫效果 